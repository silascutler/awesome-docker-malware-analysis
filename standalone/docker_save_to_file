#!/bin/bash
# Author: Silas Cutler (silas@p1nk.io)
# --
# Script to downloads images from DockerHub and save copy to local file

if [[ $# -eq 0 ]] ; then
    echo "Usage:"
    echo "$0 <IMAGE NAME>"
    exit 0
fi


iNAME=$1
oNAME=`echo $iNAME | sed "s/\//_/" | sed "s/:/_/"`

echo -e "[+] SAVING $iNAME -> $oNAME\n"

docker pull $iNAME
echo -e "[+] ...Finished pull"
if [ $? -eq 0 ]; then
	docker save $iNAME -o $oNAME.img
#	docker rmi $iNAME
	echo -e "\n[+] Done.  Image saved to $oNAME.img\n"
else
	echo "[!] Image Not Found!"
fi

